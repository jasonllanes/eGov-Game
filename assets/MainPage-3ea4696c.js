import{u as H,r as i,j as e}from"./index-8b18a069.js";import{e as R,a as T}from"./eGovPHLogoB-9418e187.js";import{e as U,a as Y,b as O,c as $,d as E,f as V,g as W,h as z,i as F,j as K}from"./eTravel-4a14879b.js";import{e as _,a as q,b as J,c as Q,d as X,f as Z,g as ee,h as se,i as ae,j as te,k as oe,l as ie,m as ne}from"./eVisa-929a7f4d.js";const me=()=>{const I=H(),r=5,L=5,u=10,[c,x]=i.useState([]),[h,p]=i.useState(!1),[f,v]=i.useState(!1),[d,j]=i.useState(0),[M,b]=i.useState(0),[P,S]=i.useState(!1),[N,C]=i.useState([]),[n,G]=i.useState(2),[w,g]=i.useState(!1),m=[U,Y,_,q,O,J,$,E,V,W,Q,z,X,Z,ee,se,ae,te,oe,ie,F,K,ne];i.useEffect(()=>{k();const s=localStorage.getItem("minesweeperHighScore");s&&b(parseInt(s))},[]);const k=()=>{const s=Array(r).fill(null).map(()=>Array(r).fill(null).map(()=>({hasBomb:!1,isClicked:!1})));let t=0;for(;t<L;){const a=Math.floor(Math.random()*r),o=Math.floor(Math.random()*r);s[a][o].hasBomb||(s[a][o].hasBomb=!0,t++)}x(s),p(!1),v(!1),j(0),C([]),G(2),g(!1)},B=()=>{const s=Array.from({length:m.length},(a,o)=>o).filter(a=>!N.includes(a));if(s.length===0)return Math.floor(Math.random()*m.length);const t=Math.floor(Math.random()*s.length);return s[t]},A=(s,t)=>{if(h||f||c[s][t].isClicked||w)return;const a=[...c],o=B();if(a[s][t]={...a[s][t],isClicked:!0,imageIndex:o},a[s][t].hasBomb)n>1?(G(n-1),g(!0)):p(!0);else{C([...N,o]),S(!0),setTimeout(()=>S(!1),1500);const l=d+1;j(l),l>=u&&(v(!0),l>M&&(localStorage.setItem("minesweeperHighScore",l.toString()),b(l)))}x(a)},y=()=>{k()},D=()=>{I("/eGov-Game/main-page")};return e.jsxs("div",{className:"minesweeper-container",children:[e.jsx("button",{className:"home-button",onClick:D,children:"Home"}),e.jsx("h1",{className:"text-white",children:e.jsxs("div",{className:"flex justify-center space-x-9",children:[e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:R,alt:"eGov Logo",className:"header-logo"})}),e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:T,alt:"eLGU Logo",className:"header-logo"})})]})}),e.jsxs("div",{className:"score-panel",children:[e.jsxs("p",{children:["Score: ",d]}),e.jsxs("p",{children:["Lives: ",n]}),e.jsxs("p",{children:["Goal: ",u," Digital Platforms"]})]}),e.jsx("div",{className:"game-grid",children:c.map((s,t)=>e.jsx("div",{className:"grid-row",children:s.map((a,o)=>e.jsx("div",{className:`tile ${a.isClicked?"clicked":""} ${a.isClicked&&a.hasBomb?"bomb":""}`,onClick:()=>A(t,o),children:a.isClicked&&(a.hasBomb?"ðŸ’£":e.jsx("img",{src:m[a.imageIndex||0],alt:"eGov Service",className:"tile-logo"}))},o))},t))}),e.jsx("div",{className:"selected-logos-panel",style:{marginTop:"24px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px"},children:c.flat().filter(s=>s.isClicked&&!s.hasBomb&&typeof s.imageIndex=="number").map((s,t)=>e.jsx("img",{src:m[s.imageIndex],alt:`Selected Logo ${t+1}`,style:{width:"48px",height:"48px",objectFit:"contain",borderRadius:"8px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},t))}),P&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"})]}),w&&!h&&!f&&e.jsx("div",{className:"modal lives-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Oops! You hit a bomb!"}),e.jsxs("p",{children:["You have ",n," ",n===1?"life":"lives"," left."]}),e.jsx("button",{onClick:()=>g(!1),children:"Continue"})]})}),h&&e.jsx("div",{className:"modal game-over",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"ðŸ’£ Game Over! ðŸ’£"}),e.jsxs("p",{children:["You only found ",d," Digital Platforms!"]}),e.jsx("button",{onClick:y,children:"Play Again"})]})}),f&&e.jsx("div",{className:"modal winner",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"You Win!"}),e.jsxs("p",{children:["Congratulations! You found ",d," Digital Platforms!"]}),e.jsx("button",{onClick:y,children:"Play Again"})]})})]})};export{me as default};
