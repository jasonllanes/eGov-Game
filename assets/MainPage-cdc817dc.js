import{u as M,r as i,j as e}from"./index-ac196f4b.js";const p="/eGov-Game/assets/eGovLogo-b4f72989.png",H=()=>{const C=M(),n=5,b=3,N=10,[r,l]=i.useState([]),[m,d]=i.useState(!1),[h,g]=i.useState(!1),[c,u]=i.useState(0),[f,j]=i.useState(0),[G,v]=i.useState(!1);i.useEffect(()=>{x();const s=localStorage.getItem("minesweeperHighScore");s&&j(parseInt(s))},[]);const x=()=>{const s=Array(n).fill(null).map(()=>Array(n).fill(null).map(()=>({hasBomb:!1,isClicked:!1})));let o=0;for(;o<b;){const t=Math.floor(Math.random()*n),a=Math.floor(Math.random()*n);s[t][a].hasBomb||(s[t][a].hasBomb=!0,o++)}l(s),d(!1),g(!1),u(0)},w=(s,o)=>{if(m||h||r[s][o].isClicked)return;const t=[...r];if(t[s][o]={...t[s][o],isClicked:!0},t[s][o].hasBomb)d(!0);else{v(!0),setTimeout(()=>v(!1),1500);const a=c+1;u(a),a>=N&&(g(!0),a>f&&(localStorage.setItem("minesweeperHighScore",a.toString()),j(a)))}l(t)},S=()=>{x()},k=()=>{C("/eGov-Game/main-page")};return e.jsxs("div",{className:"minesweeper-container",children:[e.jsx("button",{className:"home-button",onClick:k,children:"Home"}),e.jsxs("h1",{className:"text-white",children:[e.jsx("img",{src:p,width:150,height:150,alt:"eGov Logo",className:"logo"}),"Minesweeper"]}),e.jsxs("div",{className:"score-panel",children:[e.jsxs("p",{children:["Stars: ",c]}),e.jsxs("p",{children:["High Score: ",f]})]}),e.jsx("div",{className:"game-grid",children:r.map((s,o)=>e.jsx("div",{className:"grid-row",children:s.map((t,a)=>e.jsx("div",{className:`tile ${t.isClicked?"clicked":""} ${t.isClicked&&t.hasBomb?"bomb":""}`,onClick:()=>w(o,a),children:t.isClicked&&(t.hasBomb?"ðŸ’£":e.jsx("img",{src:p,alt:"eGov Logo",className:"tile-logo"}))},a))},o))}),G&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"})]}),m&&e.jsx("div",{className:"modal game-over",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Game Over!"}),e.jsxs("p",{children:["You found ",c," stars"]}),e.jsx("button",{onClick:S,children:"Play Again"})]})}),h&&e.jsx("div",{className:"modal winner",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"You Win!"}),e.jsxs("p",{children:["Congratulations! You found ",c," stars!"]}),e.jsx("button",{onClick:S,children:"Play Again"})]})})]})};export{H as default};
