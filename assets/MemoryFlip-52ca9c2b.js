import{u as P,r as i,j as e}from"./index-da7b9a88.js";import{e as R,a as U}from"./eGovPHLogoB-9418e187.js";import{e as $,a as A,b as V,c as W,d as O,f as Y,g as z,h as D,i as H,j as B}from"./eTravel-4a14879b.js";import{e as K,a as q,b as J,c as Q,d as X,f as Z,g as _,h as ee,i as se,j as ae,k as te,l as ie,m as re}from"./eVisa-929a7f4d.js";const me=()=>{const M=P(),N={rows:4,cols:5},n=N.rows*N.cols/2,[r,p]=i.useState([]),[b,x]=i.useState([]),[d,C]=i.useState(0),[m,G]=i.useState(40),[o,j]=i.useState(!1),[f,y]=i.useState(!1),[w,F]=i.useState(!1),[T,g]=i.useState(!1),k=[$,A,K,q,V,J,W,O,Y,z,Q,D,X,Z,_,ee,se,ae,te,ie,H,B,re];i.useEffect(()=>{S()},[]),i.useEffect(()=>{let s;return w&&!o&&!f&&m>0&&(s=setInterval(()=>{G(a=>a<=1?(j(!0),clearInterval(s),0):a-1)},1e3)),()=>{s&&clearInterval(s)}},[w,o,f,m]),i.useEffect(()=>{d>=n&&d>0&&(y(!0),g(!0))},[d,n]),i.useEffect(()=>{o&&p(s=>s.map(a=>({...a,isFlipped:!0})))},[o]);const I=s=>{const a=Math.floor(s/60),t=s%60;return`${a}:${t<10?"0":""}${t}`},S=()=>{x([]),C(0),G(40),j(!1),y(!1),F(!0),g(!1);const a=[...k].sort(()=>Math.random()-.5).slice(0,n),t=[];a.forEach((h,l)=>{for(let u=0;u<2;u++)t.push({id:t.length,pairId:l,imageUrl:h,isFlipped:!1,isMatched:!1})});const c=[...t].sort(()=>Math.random()-.5);p(c)},L=s=>{if(o||f||r[s].isFlipped||r[s].isMatched||b.length>=2||m<=0)return;const a=[...r];a[s].isFlipped=!0,p(a);const t=[...b,s];if(x(t),t.length===2){const[c,h]=t;r[c].pairId===r[h].pairId?setTimeout(()=>{const l=[...r];l[c].isMatched=!0,l[h].isMatched=!0,p(l),C(u=>u+1),x([]),g(!0),setTimeout(()=>g(!1),1e3)},500):setTimeout(()=>{const l=[...r];l[c].isFlipped=!1,l[h].isFlipped=!1,p(l),x([])},800)}},v=()=>{S()},E=()=>{M("/eGov-Game/main-page")};return e.jsxs("div",{className:"memory-container",children:[e.jsx("button",{className:"home-button",onClick:E,children:"Home"}),e.jsx("button",{className:"restart-button",onClick:v,style:{marginLeft:"10px",position:"absolute",top:"15px",right:"15px"},children:"Restart"}),e.jsx("h1",{className:"text-white",children:e.jsxs("div",{className:"flex justify-center space-x-9",children:[e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:R,alt:"eGov Logo",className:"header-logo"})}),e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:U,alt:"eLGU Logo",className:"header-logo"})})]})}),e.jsxs("div",{className:"score-panel",children:[e.jsxs("p",{children:["Pairs: ",d,"/",n]}),e.jsxs("p",{children:["Time: ",I(m)]}),e.jsx("p",{children:"Goal: Match all pairs"})]}),o&&!f&&e.jsxs("div",{style:{width:"100%",textAlign:"center",margin:"15px 0",padding:"10px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[e.jsx("h3",{style:{color:"white",marginBottom:"10px"},children:"Game Over - View All Cards"}),e.jsx("button",{onClick:v,style:{backgroundColor:"#4caf50",padding:"10px 20px",fontSize:"18px",fontWeight:"bold",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:"Start New Game"})]}),e.jsx("div",{className:"memory-grid",children:r.map((s,a)=>e.jsx("div",{className:`memory-card ${s.isFlipped?"flipped":""} ${s.isMatched?"matched":""}`,onClick:()=>L(a),children:e.jsxs("div",{className:"card-inner",children:[e.jsx("div",{className:"card-back",children:e.jsx("div",{className:"card-logo",children:"?"})}),e.jsx("div",{className:"card-front",children:e.jsx("img",{src:s.imageUrl,alt:"eGov Service",className:"card-image",loading:"eager"})})]})},s.id))}),e.jsx("div",{className:"matched-pairs-container",style:{marginTop:"20px"},children:d>0&&e.jsx("div",{className:"matched-logos-panel",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px"},children:r.filter(s=>s.isMatched).filter((s,a,t)=>t.findIndex(c=>c.pairId===s.pairId)===a).map((s,a)=>e.jsx("img",{src:s.imageUrl,alt:`Matched Logo ${a+1}`,style:{width:"48px",height:"48px",objectFit:"contain",borderRadius:"8px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},a))})}),T&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"}),e.jsx("div",{className:"confetti",style:{left:"20%"}}),e.jsx("div",{className:"confetti",style:{right:"20%"}})]}),o&&m===0&&!f&&e.jsx("div",{className:"modal game-over",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Time's Up!"}),e.jsxs("p",{children:["You matched ",d," out of ",n," pairs!"]}),e.jsx("button",{onClick:()=>j(!1),children:"View Cards"})]})}),f&&e.jsx("div",{className:"modal winner",children:e.jsxs("div",{className:"modal-content",style:{position:"relative"},children:[e.jsx("h2",{children:"You Win!"}),e.jsxs("p",{children:["Congratulations! You matched all ",n," pairs!"]}),e.jsxs("p",{children:["Time remaining: ",I(m)]}),e.jsx("button",{onClick:v,children:"Play Again"}),e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"}),e.jsx("div",{className:"confetti",style:{left:"20%"}}),e.jsx("div",{className:"confetti",style:{right:"20%"}})]})})]})};export{me as default};
