import{u as P,r as t,j as e}from"./index-021cee43.js";import{e as R,a as U}from"./eGovPHLogoB-9418e187.js";import{e as E,a as W,b as Y,c as A,d as O,f as $,g as D,h as H,i as V,j as z,k as q,l as B,m as K,n as J,o as Q,p as X,q as Z,r as _,s as ee,t as se,u as ae,v as te,w as ie}from"./eVisa-addce142.js";const ne=()=>{const S=P(),N={rows:4,cols:5},r=N.rows*N.cols/2,[i,h]=t.useState([]),[G,f]=t.useState([]),[n,C]=t.useState(0),[d,y]=t.useState(5),[g,w]=t.useState(!1),[u,b]=t.useState(!1),[M,v]=t.useState(!1),[L,p]=t.useState(!1),F=[E,W,Y,A,O,$,D,H,V,z,q,B,K,J,Q,X,Z,_,ee,se,ae,te,ie];t.useEffect(()=>{I()},[]),t.useEffect(()=>{n>=r&&n>0&&(b(!0),p(!0))},[n,r]);const I=()=>{f([]),C(0),y(5),w(!1),b(!1),v(!1),p(!1);const a=[...F].sort(()=>Math.random()-.5).slice(0,r),l=[];a.forEach((m,o)=>{for(let x=0;x<2;x++)l.push({id:l.length,pairId:o,imageUrl:m,isFlipped:!1,isMatched:!1})});const c=[...l].sort(()=>Math.random()-.5);h(c)},k=s=>{if(g||u||i[s].isFlipped||i[s].isMatched||G.length>=2||M)return;const a=[...i];a[s].isFlipped=!0,h(a);const l=[...G,s];if(f(l),l.length===2){const[c,m]=l;i[c].pairId===i[m].pairId?setTimeout(()=>{const o=[...i];o[c].isMatched=!0,o[m].isMatched=!0,h(o),C(x=>x+1),f([]),p(!0),setTimeout(()=>p(!1),1e3)},500):setTimeout(()=>{d>1?(y(d-1),v(!0)):w(!0);const o=[...i];o[c].isFlipped=!1,o[m].isFlipped=!1,h(o),f([])},800)}},j=()=>{I()},T=()=>{S("/eGov-Game/main-page")};return e.jsxs("div",{className:"memory-container",children:[e.jsx("button",{className:"home-button",onClick:T,children:"Home"}),e.jsx("button",{className:"restart-button",onClick:j,style:{marginLeft:"10px",position:"absolute",top:"15px",right:"15px"},children:"Restart"}),e.jsx("h1",{className:"text-white",children:e.jsxs("div",{className:"flex justify-center space-x-9",children:[e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:R,alt:"eGov Logo",className:"header-logo"})}),e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:U,alt:"eLGU Logo",className:"header-logo"})})]})}),e.jsxs("div",{className:"score-panel",children:[e.jsxs("p",{children:["Pairs: ",n,"/",r]}),e.jsxs("p",{children:["Lives: ",d]}),e.jsx("p",{children:"Goal: Match all pairs"})]}),e.jsx("div",{className:"memory-grid",children:i.map((s,a)=>e.jsx("div",{className:`memory-card ${s.isFlipped?"flipped":""} ${s.isMatched?"matched":""}`,onClick:()=>k(a),children:e.jsxs("div",{className:"card-inner",children:[e.jsx("div",{className:"card-back",children:e.jsx("div",{className:"card-logo",children:"?"})}),e.jsx("div",{className:"card-front",children:e.jsx("img",{src:s.imageUrl,alt:"eGov Service",className:"card-image",loading:"eager"})})]})},s.id))}),e.jsx("div",{className:"matched-pairs-container",style:{marginTop:"20px"},children:n>0&&e.jsx("div",{className:"matched-logos-panel",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px"},children:i.filter(s=>s.isMatched).filter((s,a,l)=>l.findIndex(c=>c.pairId===s.pairId)===a).map((s,a)=>e.jsx("img",{src:s.imageUrl,alt:`Matched Logo ${a+1}`,style:{width:"48px",height:"48px",objectFit:"contain",borderRadius:"8px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},a))})}),L&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"}),e.jsx("div",{className:"confetti",style:{left:"20%"}}),e.jsx("div",{className:"confetti",style:{right:"20%"}})]}),M&&!g&&!u&&e.jsx("div",{className:"modal lives-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Wrong Match!"}),e.jsxs("p",{children:["You have ",d," ",d===1?"life":"lives"," left."]}),e.jsx("button",{onClick:()=>v(!1),children:"Continue"})]})}),g&&e.jsx("div",{className:"modal game-over",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Game Over!"}),e.jsxs("p",{children:["You matched ",n," out of ",r," pairs!"]}),e.jsx("button",{onClick:j,children:"Try Again"})]})}),u&&e.jsx("div",{className:"modal winner",children:e.jsxs("div",{className:"modal-content",style:{position:"relative"},children:[e.jsx("h2",{children:"You Win!"}),e.jsxs("p",{children:["Congratulations! You matched all ",r," pairs!"]}),e.jsx("button",{onClick:j,children:"Play Again"}),e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"}),e.jsx("div",{className:"confetti",style:{left:"20%"}}),e.jsx("div",{className:"confetti",style:{right:"20%"}})]})})]})};export{ne as default};
