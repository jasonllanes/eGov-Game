import{u as P,r as t,j as e}from"./index-3425560f.js";import{e as R,a as E}from"./eGovPHLogoB-9418e187.js";import{e as U,a as W,b as A,c as O,d as V,f as Y,g as $,h as z,i as D,j as H,k as B,l as q,m as K,n as J,o as Q,p as X,q as Z,r as _,s as ee,t as se,u as ae,v as te,w as ie}from"./eVisa-addce142.js";const ne=()=>{const I=P(),b={rows:4,cols:5},c=b.rows*b.cols/2,[i,m]=t.useState([]),[G,f]=t.useState([]),[n,w]=t.useState(0),[h,y]=t.useState(5),[d,j]=t.useState(!1),[x,S]=t.useState(!1),[v,N]=t.useState(!1),[L,g]=t.useState(!1),k=[U,W,A,O,V,Y,$,z,D,H,B,q,K,J,Q,X,Z,_,ee,se,ae,te,ie];t.useEffect(()=>{M()},[]),t.useEffect(()=>{n>=c&&n>0&&(S(!0),g(!0))},[n,c]),t.useEffect(()=>{d&&m(s=>s.map(a=>({...a,isFlipped:!0})))},[d]);const M=()=>{f([]),w(0),y(5),j(!1),S(!1),N(!1),g(!1);const a=[...k].sort(()=>Math.random()-.5).slice(0,c),l=[];a.forEach((p,o)=>{for(let u=0;u<2;u++)l.push({id:l.length,pairId:o,imageUrl:p,isFlipped:!1,isMatched:!1})});const r=[...l].sort(()=>Math.random()-.5);m(r)},F=s=>{if(d||x||i[s].isFlipped||i[s].isMatched||G.length>=2||v)return;const a=[...i];a[s].isFlipped=!0,m(a);const l=[...G,s];if(f(l),l.length===2){const[r,p]=l;i[r].pairId===i[p].pairId?setTimeout(()=>{const o=[...i];o[r].isMatched=!0,o[p].isMatched=!0,m(o),w(u=>u+1),f([]),g(!0),setTimeout(()=>g(!1),1e3)},500):setTimeout(()=>{h>1?(y(h-1),N(!0)):j(!0);const o=[...i];o[r].isFlipped=!1,o[p].isFlipped=!1,m(o),f([])},800)}},C=()=>{M()},T=()=>{I("/eGov-Game/main-page")};return e.jsxs("div",{className:"memory-container",children:[e.jsx("button",{className:"home-button",onClick:T,children:"Home"}),e.jsx("button",{className:"restart-button",onClick:C,style:{marginLeft:"10px",position:"absolute",top:"15px",right:"15px"},children:"Restart"}),e.jsx("h1",{className:"text-white",children:e.jsxs("div",{className:"flex justify-center space-x-9",children:[e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:R,alt:"eGov Logo",className:"header-logo"})}),e.jsx("div",{className:"logos-container w-44 flex space-x-5 bg-[#ffffff] p-2 rounded-lg",children:e.jsx("img",{src:E,alt:"eLGU Logo",className:"header-logo"})})]})}),e.jsxs("div",{className:"score-panel",children:[e.jsxs("p",{children:["Pairs: ",n,"/",c]}),e.jsxs("p",{children:["Lives: ",h]}),e.jsx("p",{children:"Goal: Match all pairs"})]}),d&&!x&&!v&&e.jsxs("div",{style:{width:"100%",textAlign:"center",margin:"15px 0",padding:"10px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[e.jsx("h3",{style:{color:"white",marginBottom:"10px"},children:"Game Over - View All Cards"}),e.jsx("button",{onClick:C,style:{backgroundColor:"#4caf50",padding:"10px 20px",fontSize:"18px",fontWeight:"bold",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:"Start New Game"})]}),e.jsx("div",{className:"memory-grid",children:i.map((s,a)=>e.jsx("div",{className:`memory-card ${s.isFlipped?"flipped":""} ${s.isMatched?"matched":""}`,onClick:()=>F(a),children:e.jsxs("div",{className:"card-inner",children:[e.jsx("div",{className:"card-back",children:e.jsx("div",{className:"card-logo",children:"?"})}),e.jsx("div",{className:"card-front",children:e.jsx("img",{src:s.imageUrl,alt:"eGov Service",className:"card-image",loading:"eager"})})]})},s.id))}),e.jsx("div",{className:"matched-pairs-container",style:{marginTop:"20px"},children:n>0&&e.jsx("div",{className:"matched-logos-panel",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px"},children:i.filter(s=>s.isMatched).filter((s,a,l)=>l.findIndex(r=>r.pairId===s.pairId)===a).map((s,a)=>e.jsx("img",{src:s.imageUrl,alt:`Matched Logo ${a+1}`,style:{width:"48px",height:"48px",objectFit:"contain",borderRadius:"8px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},a))})}),L&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"}),e.jsx("div",{className:"confetti",style:{left:"20%"}}),e.jsx("div",{className:"confetti",style:{right:"20%"}})]}),v&&!d&&!x&&e.jsx("div",{className:"modal lives-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Wrong Match!"}),e.jsxs("p",{children:["You have ",h," ",h===1?"life":"lives"," left."]}),e.jsx("button",{onClick:()=>N(!1),children:"Continue"})]})}),d&&e.jsx("div",{className:"modal game-over",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Game Over!"}),e.jsxs("p",{children:["You matched ",n," out of ",c," pairs!"]}),e.jsx("button",{onClick:()=>j(!1),children:"View Cards"})]})}),x&&e.jsx("div",{className:"modal winner",children:e.jsxs("div",{className:"modal-content",style:{position:"relative"},children:[e.jsx("h2",{children:"You Win!"}),e.jsxs("p",{children:["Congratulations! You matched all ",c," pairs!"]}),e.jsx("button",{onClick:C,children:"Play Again"}),e.jsx("div",{className:"confetti left"}),e.jsx("div",{className:"confetti right"}),e.jsx("div",{className:"confetti",style:{left:"20%"}}),e.jsx("div",{className:"confetti",style:{right:"20%"}})]})})]})};export{ne as default};
